<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard | Smart Expense & Budget Advisor</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
/* ========= DARK MODE ========= */
:root{
  --bg:#020617;
  --card:#0f172a;
  --text:#f8fafc;
  --muted:#cbd5f5;
  --primary:#38bdf8;
  --success:#22c55e;
  --danger:#ef4444;
  --border:#1e293b;
  --glow:rgba(56,189,248,.55);
}

/* ========= LIGHT MODE ========= */
.light{
  --bg:#f4f6fb;
  --card:#ffffff;
  --text:#1f2937;
  --muted:#6b7280;
  --primary:#2563eb;
  --border:#e5e7eb;
  --glow:rgba(37,99,235,.45);
}

body{
  background:var(--bg);
  color:var(--text);
  font-family:Segoe UI,sans-serif;
}

.navbar{
  background:var(--card);
  border-bottom:1px solid var(--border);
}

.container{max-width:1100px}

/* ========= CARDS ========= */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  padding:18px;
  transition:all .25s ease;
}

/* üî• REAL GLOW */
.card:hover{
  transform:translateY(-4px);
  box-shadow:
    0 0 18px var(--glow),
    0 0 35px rgba(0,0,0,.6);
}

/* ========= TEXT ========= */
h5,h6{
  font-weight:600;
  color:var(--text);
}

small,.text-muted{
  color:var(--muted)!important;
}

/* ========= KPI ICON ========= */
.kpi-icon{
  font-size:28px;
  color:var(--primary);
  margin-bottom:6px;
}

/* ========= LIST (FIXED FOR LIGHT & DARK) ========= */
.list-group-item{
  background:transparent;
  color:var(--text) !important;   /* üî• KEY FIX */
  border-color:var(--border);
  font-size:14px;
}


/* ========= BUTTON GLOW ========= */
.btn-primary:hover,
.btn-success:hover{
  box-shadow:0 0 15px var(--glow);
}

.progress{height:8px}
</style>
</head>

<body>

<nav class="navbar px-4 py-2 mb-4">
  <span class="fw-bold">üìä Smart Expense & Budget Advisor</span>
  <div>
    <button onclick="toggleTheme()" class="btn btn-outline-primary btn-sm me-2">
      <i class="bi bi-brightness-high"></i>
    </button>
    <button onclick="logout()" class="btn btn-outline-danger btn-sm">
      <i class="bi bi-box-arrow-right"></i>
    </button>
  </div>
</nav>

<div class="container">

<!-- KPI -->
<div class="row g-3 mb-4 text-center">
  <div class="col"><div class="card"><div class="kpi-icon"><i class="bi bi-wallet2"></i></div><small>Income</small><h5 id="income">‚Çπ0</h5></div></div>
  <div class="col"><div class="card"><div class="kpi-icon"><i class="bi bi-cash-stack"></i></div><small>Expense</small><h5 id="expense">‚Çπ0</h5></div></div>
  <div class="col"><div class="card"><div class="kpi-icon"><i class="bi bi-bank"></i></div><small>Balance</small><h5 id="balance">‚Çπ0</h5></div></div>
  <div class="col"><div class="card"><div class="kpi-icon"><i class="bi bi-percent"></i></div><small>Savings</small><h5 id="savings">0%</h5></div></div>
  <div class="col"><div class="card"><div class="kpi-icon"><i class="bi bi-graph-up"></i></div><small>Score</small><h5 id="score">0 / 100</h5></div></div>
</div>

<!-- MONTHLY COMPARISON WITH NAVIGATION -->
<div class="card mb-4">
  <div class="d-flex justify-content-between align-items-center mb-2">
    <button onclick="prevMonth()" class="btn btn-outline-primary btn-sm">‚óÄ</button>
    <h6 class="mb-0">üìÖ Monthly Comparison</h6>
    <button onclick="nextMonth()" class="btn btn-outline-primary btn-sm">‚ñ∂</button>
  </div>

<p id="monthLabel" class="fw-semibold mb-1"></p>
<p id="comparison" class="fw-semibold"></p>
<small id="comparisonNote" class="text-muted"></small>

</div>


<!-- SAVINGS GOAL -->
<div class="card mb-4">
  <h6>üéØ Savings Goal</h6>
  <div class="row g-2">
    <div class="col-md-3"><input id="goalInput" type="number" class="form-control" placeholder="Goal Amount"></div>
    <div class="col-md-2"><button onclick="setGoal()" class="btn btn-primary w-100">Set</button></div>
  </div>
  <div class="progress mt-3"><div id="goalBar" class="progress-bar bg-success"></div></div>
  <small id="goalText"></small>
</div>

<!-- ALERTS -->
<div class="card mb-4">
  <h6>‚ö†Ô∏è Budget Alerts</h6>
  <div id="alerts" class="text-muted"></div>
</div>

<!-- ADD TX -->
<div class="card mb-4">
  <h6>Add Transaction</h6>
  <div class="row g-2">
    <div class="col"><input id="title" class="form-control" placeholder="Title"></div>
    <div class="col"><input id="amount" class="form-control" placeholder="Amount"></div>
    <div class="col"><select id="type" class="form-select"><option value="income">Income</option><option value="expense">Expense</option></select></div>
    <div class="col"><input id="category" class="form-control" placeholder="Category"></div>
    <div class="col"><button onclick="addTx()" class="btn btn-primary w-100">Add</button></div>
  </div>
</div>

<!-- MONTHLY SUMMARY -->
<div class="card mb-4">
  <h6>üìå Monthly Summary</h6>
  <p id="monthSummary" class="text-muted mb-1"></p>
  <p id="balanceWarning" class="text-danger fw-semibold"></p>
</div>

<!-- SMART INSIGHTS -->
<div class="card mb-4">
  <h6>üß† Smart Insights</h6>
  <ul class="list-group list-group-flush">
    <li id="topCategory" class="list-group-item"></li>
    <li id="incomeStatus" class="list-group-item"></li>
    <li id="txCount" class="list-group-item"></li>
  </ul>
</div>

<!-- EMI CALCULATOR -->
<div class="card mb-4">
  <h6>üè¶ EMI Calculator</h6>
  <div class="row g-2">
    <div class="col"><input id="loan" type="number" class="form-control" placeholder="Loan Amount"></div>
    <div class="col"><input id="rate" type="number" class="form-control" placeholder="Interest %"></div>
    <div class="col"><input id="months" type="number" class="form-control" placeholder="Months"></div>
    <div class="col"><button onclick="calcEMI()" class="btn btn-success w-100">Calculate</button></div>
  </div>
  <small id="emiResult"></small>
</div>


<!-- EXPENSE BY CATEGORY (TEXT BASED) -->
<div class="card mb-4">
  <h6>üìÇ Expense by Category (This Month)</h6>
  <div class="table-responsive">
    <table class="table table-sm table-borderless mb-0">
      <thead>
        <tr class="text-muted">
          <th>Category</th>
          <th>Amount (‚Çπ)</th>
          <th>%</th>
        </tr>
      </thead>
      <tbody id="expenseCategoryTable"></tbody>
    </table>
  </div>
</div>


<!-- RECENT -->
<div class="card mb-4">
  <div class="d-flex justify-content-between align-items-center">
    <h6>Recent Transactions</h6>
    <select id="filter" onchange="filterTx()" class="form-select w-25">
      <option value="all">All</option>
      <option value="today">Today</option>
      <option value="month">This Month</option>
    </select>
  </div>
  <ul id="recent" class="list-group list-group-flush mt-2"></ul>
</div>

</div>

<script src="js/dashboard.js"></script>
</body>
</html>
